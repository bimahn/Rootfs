<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Monitor Jaringan</title>
    <style>body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";background-color:#f9fafb;color:#2d3748}.container{width:100%;margin-left:auto;margin-right:auto;padding-left:1rem;padding-right:1rem}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px;padding:2rem}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.header{text-align:center;margin-bottom:2.5rem}.header h1{font-size:1.875rem;line-height:2.25rem;font-weight:800;color:#1a202c;margin-bottom:.5rem}@media (min-width:768px){.header h1{font-size:2.25rem;line-height:2.5rem}}.header p{color:#718096;font-size:1rem;line-height:1.5rem}@media (min-width:768px){.header p{font-size:1.125rem;line-height:1.75rem}}.header-info{margin-top:1.5rem;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;font-size:1.125rem;line-height:1.75rem;font-weight:600;color:#0369a1}@media (min-width:768px){.header-info{flex-direction:row;gap:4rem;font-size:1.25rem;line-height:1.75rem}}.info-box{background-color:#e0f2fe;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;border-radius:.5rem;box-shadow:0 1px 2px 0 rgb(0 0 0 / .05);flex-shrink:0}.section-title{font-size:1.5rem;line-height:2rem;font-weight:700;margin-bottom:1.5rem;text-align:center;color:#4a5568}.grid-container{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1.5rem}@media (min-width:640px){.grid-container.sm-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:768px){.grid-container.md-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:1024px){.grid-container.lg-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-container.lg-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}.card{background-color:#fff;padding:1rem;border-radius:.75rem;box-shadow:0 10px 15px -3px rgb(0 0 0 / .1),0 4px 6px -2px rgb(0 0 0 / .05);transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:300ms}.card:hover{box-shadow:0 20px 25px -5px rgb(0 0 0 / .1),0 10px 10px -5px rgb(0 0 0 / .04)}.card-content-center{display:flex;flex-direction:column;align-items:center;justify-content:center}.card-h-56{height:14rem}@media (min-width:640px){.card-sm-h-72{height:18rem}}.card h3{font-size:1.125rem;line-height:1.75rem;font-weight:500;color:#4a5568;margin-bottom:.5rem}.card img{width:100%;height:auto;border-radius:.5rem}.card p{text-align:center;color:#718096;margin-top:.5rem;font-size:.875rem;line-height:1.25rem}.netdata-chart{width:100%;height:100%}.clickable-image{cursor:pointer}.image-modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0 0 0 / .9);align-items:center;justify-content:center}.image-modal-content{margin:auto;display:block;max-width:90%;max-height:90%;object-fit:contain;border-radius:.75rem}.image-modal-close{position:absolute;top:15px;right:35px;color:#f1f1f1;font-size:40px;font-weight:700;transition:0.3s;cursor:pointer}.image-modal-close:hover,.image-modal-close:focus{color:#bbb;text-decoration:none;cursor:pointer}</style>
</head>
<body class="bg-gray-50 text-gray-800">
    <main class="container mx-auto p-4 md:p-8">
        <header class="header">
            <h1>Monitor Jaringan</h1>
            <p>Pantau statistik jaringan dan sistem Anda secara real-time.</p>
            <div class="header-info">
                <div id="MyClockDisplay" class="info-box">Memuat jam...</div>
                <div id="wimi-ipv4" class="info-box">Memuat IP...</div> <!-- Re-added IP display -->
            </div>
        </header>

        <section class="mb-12">
            <h2 class="section-title">Statistik Real-time Netdata</h2>
            <div class="grid-container sm-cols-2 lg-cols-4">
                <div class="card card-content-center card-h-56 card-sm-h-72">
                    <div data-netdata="net.eth1" data-title="Modem" data-chart-library="gauge" data-after="-150" data-points="720"
                        data-gauge-generate-gradient="[0,5,10,60,100]"
                        data-gauge-gradient-percent-color-0="#ef4444" data-gauge-gradient-percent-color-5="#ef4444"
                        data-gauge-gradient-percent-color-10="#f97316" data-gauge-gradient-percent-color-60="#eab308"
                        data-gauge-gradient-percent-color-100="#22c55e" data-colors="#0284c7" class="netdata-chart"></div>
                </div>
                <div class="card card-content-center card-h-56 card-sm-h-72">
                    <div data-netdata="net.eth0" data-title="Client" data-chart-library="gauge" data-after="-150" data-points="720"
                        data-gauge-generate-gradient="[0,5,10,60,100]"
                        data-gauge-gradient-percent-color-0="#ef4444" data-gauge-gradient-percent-color-5="#ef4444"
                        data-gauge-gradient-percent-color-10="#f97316" data-gauge-gradient-percent-color-60="#eab308"
                        data-gauge-gradient-percent-color-100="#22c55e" data-colors="#0284c7" class="netdata-chart"></div>
                </div>
                <div class="card card-content-center card-h-56 card-sm-h-72">
                    <div data-netdata="system.cpu" data-chart-library="gauge" data-title="CPU" data-units="%" data-after="-150" data-points="720"
                        data-gauge-generate-gradient="[0,5,10,60,100]"
                        data-gauge-gradient-percent-color-0="#ef4444" data-gauge-gradient-percent-color-5="#ef4444"
                        data-gauge-gradient-percent-color-10="#f97316" data-gauge-gradient-percent-color-60="#eab308"
                        data-gauge-gradient-percent-color-100="#22c55e" data-colors="#0284c7" class="netdata-chart"></div>
                </div>
                <div class="card card-content-center card-h-56 card-sm-h-72">
                    <div data-netdata="system.ram" data-dimensions="used|buffers|active|wired" data-append-options="percentage"
                        data-chart-library="gauge" data-title="RAM Terpakai" data-units="%" data-after="-150" data-points="720"
                        data-gauge-generate-gradient="[0,5,10,60,100]"
                        data-gauge-gradient-percent-color-0="#ef4444" data-gauge-gradient-percent-color-5="#ef4444"
                        data-gauge-gradient-percent-color-10="#f97316" data-gauge-gradient-percent-color-60="#eab308"
                        data-gauge-gradient-percent-color-100="#22c55e" data-colors="#0284c7" class="netdata-chart"></div>
                </div>
            </div>
        </section>

        <section>
            <h2 class="section-title">Laporan Trafik Jaringan (vnstat)</h2>
            <div class="grid-container md-cols-2 lg-cols-3">
                <div class="card">
                    <img src="/vnstati/br-lan_vnstat_s.png" alt="Ringkasan Trafik Jaringan" class="clickable-image" onclick="zoomImage(this.src)"
                        onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'500\' height=\'200\' viewBox=\'0 0 500 200\'%3E%3Crect width=\'500\' height=\'200\' fill=\'%23f0f0f0\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' font-family=\'sans-serif\' font-size=\'24\' fill=\'%23333\' text-anchor=\'middle\' dominant-baseline=\'middle\'%3EGagal Memuat Grafik Ringkasan%3C/text%3E%3C/svg%3E';">
                    <p>Ringkasan Trafik</p>
                </div>
                <div class="card">
                    <img src="/vnstati/br-lan_vnstat_5.png" alt="Trafik Jaringan 5 Menit Terakhir" class="clickable-image" onclick="zoomImage(this.src)"
                        onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'500\' height=\'200\' viewBox=\'0 0 500 200\'%3E%3Crect width=\'500\' height=\'200\' fill=\'%23f0f0f0\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' font-family=\'sans-serif\' font-size=\'24\' fill=\'%23333\' text-anchor=\'middle\' dominant-baseline=\'middle\'%3EGagal Memuat Grafik 5 Menit%3C/text%3E%3C/svg%3E';">
                    <p>Trafik 5 Menit</p>
                </div>
                <div class="card">
                    <img src="/vnstati/br-lan_vnstat_h.png" alt="Trafik Jaringan Per Jam" class="clickable-image" onclick="zoomImage(this.src)"
                        onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'500\' height=\'200\' viewBox=\'0 0 500 200\'%3E%3Crect width=\'500\' height=\'200\' fill=\'%23f0f0f0\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' font-family=\'sans-serif\' font-size=\'24\' fill=\'%23333\' text-anchor=\'middle\' dominant-baseline=\'middle\'%3EGagal Memuat Grafik Per Jam%3C/text%3E%3C/svg%3E';">
                    <p>Trafik Per Jam</p>
                </div>
                <div class="card">
                    <img src="/vnstati/br-lan_vnstat_d.png" alt="Trafik Jaringan Harian" class="clickable-image" onclick="zoomImage(this.src)"
                        onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'500\' height=\'200\' viewBox=\'0 0 500 200\'%3E%3Crect width=\'500\' height=\'200\' fill=\'%23f0f0f0\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' font-family=\'sans-serif\' font-size=\'24\' fill=\'%23333\' text-anchor=\'middle\' dominant-baseline=\'middle\'%3EGagal Memuat Grafik Harian%3C/text%3E%3C/svg%3E';">
                    <p>Trafik Harian</p>
                </div>
                <div class="card">
                    <img src="/vnstati/br-lan_vnstat_m.png" alt="Trafik Jaringan Bulanan" class="clickable-image" onclick="zoomImage(this.src)"
                        onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'500\' height=\'200\' viewBox=\'0 0 500 200\'%3E%3Crect width=\'500\' height=\'200\' fill=\'%23f0f0f0\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' font-family=\'sans-serif\' font-size=\'24\' fill=\'%23333\' text-anchor=\'middle\' dominant-baseline=\'middle\'%3EGagal Memuat Grafik Bulanan%3C/text%3E%3C/svg%3E';">
                    <p>Trafik Bulanan</p>
                </div>
                <div class="card">
                    <img src="/vnstati/br-lan_vnstat_t.png" alt="Trafik Jaringan Top 25" class="clickable-image" onclick="zoomImage(this.src)"
                        onerror="this.onerror=null;this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'500\' height=\'200\' viewBox=\'0 0 500 200\'%3E%3Crect width=\'500\' height=\'200\' fill=\'%23f0f0f0\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' font-family=\'sans-serif\' font-size=\'24\' fill=\'%23333\' text-anchor=\'middle\' dominant-baseline=\'middle\'%3EGagal Memuat Grafik Top 25%3C/text%3E%3C/svg%3E';">
                    <p>Trafik Top 25</p>
                </div>
            </div>
        </section>
    </main>

    <div id="imageModal" class="image-modal">
        <span class="image-modal-close" onclick="closeImageModal()">&times;</span>
        <img class="image-modal-content" id="zoomedImage">
    </div>

<script>function showTime(){const date=new Date();let h=date.getHours();let m=date.getMinutes();let s=date.getSeconds();h=(h<10)?"0"+h:h;m=(m<10)?"0"+m:m;s=(s<10)?"0"+s:s;const time=h+":"+m+":"+s;const clockDisplay=document.getElementById("MyClockDisplay");if(clockDisplay){clockDisplay.innerText=time;clockDisplay.textContent=time}
setTimeout(showTime,1000)}
function getPublicIP(){fetch("https://api.ipify.org?format=json").then(response=>response.json()).then(data=>{const ipDisplay=document.getElementById("wimi-ipv4");if(ipDisplay&&data.ip){ipDisplay.innerText=`IP Publik: ${data.ip}`}}).catch(error=>{console.error("Gagal mengambil alamat IP:",error);const ipDisplay=document.getElementById("wimi-ipv4");if(ipDisplay){ipDisplay.innerText="IP Publik: Gagal dimuat"}})}
function zoomImage(src){const modal=document.getElementById("imageModal");const zoomedImage=document.getElementById("zoomedImage");zoomedImage.src=src;modal.style.display="flex"}
function closeImageModal(){const modal=document.getElementById("imageModal");modal.style.display="none"}
document.addEventListener('DOMContentLoaded',function(){showTime();getPublicIP()});</script>
<script type="text/javascript" src="http://192.168.1.1:19999/dashboard.js"></script><script>var netdataTheme='white';var netdataPrepCallback=function(){NETDATA.requiredCSS=[]};</script>
</body>
</html>
